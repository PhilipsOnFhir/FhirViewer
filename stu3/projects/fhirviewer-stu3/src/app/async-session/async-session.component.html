<p>{{status}}</p>
<p>{{progressMsg}}</p>
<mat-tab-group>

  <mat-tab label="normal">
    <p *ngIf="result">Original request: <i>{{result.request}}</i> at <i>{{result.transactionTime}}</i></p>
    <mat-divider></mat-divider>
    <h4>Output</h4>

    <table *ngIf="( result && result.output)">
      <tr>
        <th>type</th>
        <th>url</th>
        <th>count</th>
      </tr>
      <tr *ngFor="let output of result.output">
        <td>{{output.type}}</td>
        <td>{{output.count}}</td>
        <td>{{output.url}}</td>
        <td> <button mat-raised-button (click)="view( output )">view</button></td>
        <td> <button mat-raised-button (click)="dowloadFile('result', output.url)">download</button></td>
      </tr>
    </table>
    <p></p>

    <mat-divider></mat-divider>
    <h4>Errors</h4>

    <table *ngIf="( result && result.error)">
      <tr>
        <th>type</th>
        <th>url</th>
        <th>count</th>
      </tr>
      <tr *ngFor="let error of result.error">
        <td>{{error.type}}</td>
        <td>
          <button mat-raised-button (click)="dowloadFile('error', error.url)">{{error.url}}</button>
        <td>{{error.count}}</td>
      </tr>
    </table>
    <p></p>
    <mat-divider></mat-divider>
    <!--<p>File contents of {{selectedType}}</p>-->
    <!--<div *ngIf="ndJsonFile">{{ndJsonFile}}</div>-->
  </mat-tab>

  <mat-tab label="json">
    <ngx-json-viewer [json]="result"></ngx-json-viewer>
  </mat-tab>

</mat-tab-group>
